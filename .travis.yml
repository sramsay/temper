dist: bionic
group: travis_latest

os: linux
language: python

matrix:
  include:
    - os: linux
      compiler: gcc
      env: COMPILER=g++
      addons:
        apt:
          update: true
          packages:
            - libboost-all-dev
    - os: linux
      compiler: clang
      env: COMPILER=clang++
      addons:
        apt:
          update: true
          packages:
            - libboost-all-dev
    - os: osx
      compiler=clang
      env: COMPILER=clang++
      addons:
        brew:
          update: true
          packages:
            - boost
            - meson
            - ninja

install:
  - if [ "$TRAVIS_OS_NAME" = "linux" ]; then pip install meson ninja; fi

script:
  - CXX=${COMPILER} meson build
  - ninja -v -C build
  - CXX=${COMPILER} meson build
  - ninja -v -C build
